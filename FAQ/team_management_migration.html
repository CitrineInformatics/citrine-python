<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6.2. Teams User Management Migration &mdash; Citrine Python 1.53.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="6.1. Prohibited Data Patterns" href="prohibited_data_patterns.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.53.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">1. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_entry.html">2. GEMD Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_extraction.html">3. [ALPHA] Data Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/index.html">4. AI Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formulations_example.html">5. Formulations Example</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">6. FAQ</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="prohibited_data_patterns.html">6.1. Prohibited Data Patterns</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.2. Teams User Management Migration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary">6.2.1. Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-s-new">6.2.2. What’s new?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#teams">6.2.2.1. Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="#projects">6.2.2.2. Projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-management">6.2.2.3. User Management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#how-does-this-change-my-code">6.2.3. How does this change my code?</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Citrine Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">6. </span>FAQ</a> &raquo;</li>
      <li><span class="section-number">6.2. </span>Teams User Management Migration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/FAQ/team_management_migration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="teams-user-management-migration">
<h1><span class="section-number">6.2. </span>Teams User Management Migration<a class="headerlink" href="#teams-user-management-migration" title="Permalink to this headline"></a></h1>
<section id="summary">
<h2><span class="section-number">6.2.1. </span>Summary<a class="headerlink" href="#summary" title="Permalink to this headline"></a></h2>
<p>This is an FAQ about migrating your code to the <a class="reference internal" href="../reference/citrine.resources.team.html#citrine.resources.team.Team" title="citrine.resources.team.Team"><code class="xref py py-class docutils literal notranslate"><span class="pre">Team</span></code></a> version of
the Citrine Platform.</p>
</section>
<section id="what-s-new">
<h2><span class="section-number">6.2.2. </span>What’s new?<a class="headerlink" href="#what-s-new" title="Permalink to this headline"></a></h2>
<section id="teams">
<h3><span class="section-number">6.2.2.1. </span>Teams<a class="headerlink" href="#teams" title="Permalink to this headline"></a></h3>
<p>The biggest change is the introduction of teams for access control. After this update, all projects
and assets will be owned by teams that include one or more users on the platform. This concept was
introduced to make it easier for Citrine Platform users to securely share assets across projects.</p>
</section>
<section id="projects">
<h3><span class="section-number">6.2.2.2. </span>Projects<a class="headerlink" href="#projects" title="Permalink to this headline"></a></h3>
<p>Projects are now available as <code class="docutils literal notranslate"><span class="pre">Team</span></code> assets. Project methods related to asset sharing and user
management will direct you to the corresponding <code class="docutils literal notranslate"><span class="pre">Team</span></code> methods. Other methods will continue to work
as before.</p>
</section>
<section id="user-management">
<h3><span class="section-number">6.2.2.3. </span>User Management<a class="headerlink" href="#user-management" title="Permalink to this headline"></a></h3>
<p>Many user management actions that were previously available on projects are now only available on
teams. Attempting to use them on a <code class="docutils literal notranslate"><span class="pre">Project</span></code> will raise an error directing you to the equivalent
<code class="docutils literal notranslate"><span class="pre">Team</span></code> method.</p>
</section>
</section>
<section id="how-does-this-change-my-code">
<h2><span class="section-number">6.2.3. </span>How does this change my code?<a class="headerlink" href="#how-does-this-change-my-code" title="Permalink to this headline"></a></h2>
<p>The main change is retrieving a <code class="docutils literal notranslate"><span class="pre">Project</span></code> from the encompassing <code class="docutils literal notranslate"><span class="pre">Team</span></code> rather than the
<code class="docutils literal notranslate"><span class="pre">Citrine</span></code> client.</p>
<p>Previously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">project</span> <span class="o">=</span> <span class="n">citrine</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">projects</span> <span class="o">=</span> <span class="n">citrine</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="c1"># or</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">citrine</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My Project&quot;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">find_or_create_project</span><span class="p">(</span>
        <span class="n">project_collection</span><span class="o">=</span><span class="n">citrine</span><span class="o">.</span><span class="n">projects</span><span class="p">,</span>
        <span class="n">project_name</span><span class="o">=</span><span class="s2">&quot;My Project&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Team</span></code> equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># You will lookup your team</span>
<span class="n">team</span> <span class="o">=</span> <span class="n">citrine</span><span class="o">.</span><span class="n">teams</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">team</span> <span class="o">=</span> <span class="n">find_or_create_team</span><span class="p">(</span>
        <span class="n">team_collection</span><span class="o">=</span><span class="n">citrine</span><span class="o">.</span><span class="n">teams</span><span class="p">,</span>
        <span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;My Team&quot;</span>
<span class="p">)</span>

<span class="c1"># Then find your project within the team</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">team</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;baaa467e-1758-43a8-97c7-76e569d0dcab&quot;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">projects</span> <span class="o">=</span> <span class="n">team</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="c1"># or</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">team</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My Project&quot;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">find_or_create_project</span><span class="p">(</span>
        <span class="n">project_collection</span><span class="o">=</span><span class="n">team</span><span class="o">.</span><span class="n">projects</span><span class="p">,</span>
        <span class="n">project_name</span><span class="o">=</span><span class="s2">&quot;My Project&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You should modify your code to make use of these new access patterns, but for backward
compatibility purposes, the following methods will continue to work after the teams
migration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">project</span> <span class="o">=</span> <span class="n">citrine</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span>

<span class="n">projects</span> <span class="o">=</span> <span class="n">citrine</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</pre></div>
</div>
<p>If your scripts managed user membership in projects, that user management now works on the team
level instead.</p>
<p>Previously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">project</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="n">user_uid</span><span class="p">)</span>
<span class="n">project</span><span class="o">.</span><span class="n">remove_user</span><span class="p">(</span><span class="n">user_uid</span><span class="p">)</span>
<span class="n">project</span><span class="o">.</span><span class="n">update_user_role</span><span class="p">(</span><span class="n">user_uid</span><span class="o">=</span><span class="n">user_uid</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="n">LEAD</span><span class="p">,</span> <span class="n">actions</span><span class="o">=</span><span class="p">[</span><span class="n">WRITE</span><span class="p">])</span>
<span class="n">project</span><span class="o">.</span><span class="n">list_members</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Team</span></code> equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># adding a user to a team</span>
<span class="n">team</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="n">user_uid</span><span class="p">)</span>

<span class="c1"># removing a user from a team</span>
<span class="n">team</span><span class="o">.</span><span class="n">remove_user</span><span class="p">(</span><span class="n">user_uid</span><span class="p">)</span>

<span class="c1"># overwriting a user&#39;s permissions on a team</span>
<span class="n">team</span><span class="o">.</span><span class="n">update_user_action</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_uid</span><span class="p">,</span> <span class="n">actions</span><span class="o">=</span><span class="p">[</span><span class="n">WRITE</span><span class="p">,</span> <span class="n">READ</span><span class="p">,</span> <span class="n">SHARE</span><span class="p">])</span>

<span class="c1"># listing user&#39;s and their permissions on a team</span>
<span class="n">team</span><span class="o">.</span><span class="n">list_members</span><span class="p">()</span>
</pre></div>
</div>
<p>As shown above, with the introduction of teams, roles are replaced by specifying a user’s actions
as any combination of <code class="docutils literal notranslate"><span class="pre">READ</span></code>, <code class="docutils literal notranslate"><span class="pre">WRITE</span></code>, and <code class="docutils literal notranslate"><span class="pre">SHARE</span></code>.</p>
<p>User permissions should be modified using the <code class="docutils literal notranslate"><span class="pre">Team</span></code> object, but for backward compatibility
purposes, listing project members via <code class="docutils literal notranslate"><span class="pre">project.list_members()</span></code> will simply list members of
the project’s parent team.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="prohibited_data_patterns.html" class="btn btn-neutral float-left" title="6.1. Prohibited Data Patterns" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Citrine Informatics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>