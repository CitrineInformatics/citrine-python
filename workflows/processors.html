
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>4.4. Processors &#8212; Citrine Python 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4.5. Design workflows" href="design_workflows.html" />
    <link rel="prev" title="4.3. Design spaces" href="design_spaces.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="processors">
<h1>4.4. Processors<a class="headerlink" href="#processors" title="Permalink to this headline">¶</a></h1>
<p>A processor defines how a <a class="reference internal" href="design_spaces.html"><span class="doc">design space</span></a> is searched.
There are two processors:</p>
<ul class="simple">
<li><p><a class="reference external" href="#enumerated-processor">EnumeratedProcessor</a> enumerates up to a fixed number of materials from a finite, enumerable space.</p></li>
<li><p><a class="reference external" href="#grid-processor">GridProcessor</a> creates finite, enumerable space from a (semi)-continuous one by discretizing the continuous variables and enumerating the finite variables.</p></li>
</ul>
<div class="section" id="enumerated-processor">
<h2>4.4.1. Enumerated processor<a class="headerlink" href="#enumerated-processor" title="Permalink to this headline">¶</a></h2>
<p>An enumerated processor takes up to a maximum number of materials from a <a class="reference internal" href="design_spaces.html"><span class="doc">design space</span></a> and processes each independently.
The maximum number of candidates sampled from the design space is defined by the optional <code class="docutils literal notranslate"><span class="pre">max_size</span></code> parameter when creating an <a class="reference internal" href="../reference/citrine.informatics.processors.html#citrine.informatics.processors.EnumeratedProcessor" title="citrine.informatics.processors.EnumeratedProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumeratedProcessor</span></code></a> using the python SDK.
To be valid, enumerated processors must have a maximum size of at least 1.</p>
<p>An enumerated processor can be used with finite and infinite design spaces.
A finite space can be defined using an <a class="reference internal" href="../reference/citrine.informatics.design_spaces.html#citrine.informatics.design_spaces.EnumeratedDesignSpace" title="citrine.informatics.design_spaces.EnumeratedDesignSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumeratedDesignSpace</span></code></a> or a <a class="reference internal" href="../reference/citrine.informatics.design_spaces.html#citrine.informatics.design_spaces.ProductDesignSpace" title="citrine.informatics.design_spaces.ProductDesignSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProductDesignSpace</span></code></a> composed only of <a class="reference internal" href="../reference/citrine.informatics.dimensions.html#citrine.informatics.dimensions.EnumeratedDimension" title="citrine.informatics.dimensions.EnumeratedDimension"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumeratedDimension</span></code></a> s.
In these cases, the processor will systematically pull up to <code class="docutils literal notranslate"><span class="pre">max_size</span></code> samples from the space.</p>
<p>An infinite design space is created when a <a class="reference internal" href="../reference/citrine.informatics.design_spaces.html#citrine.informatics.design_spaces.ProductDesignSpace" title="citrine.informatics.design_spaces.ProductDesignSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProductDesignSpace</span></code></a> contains one or more continuous dimensions.
When an enumerated processor is combined with an infinite design space, <code class="docutils literal notranslate"><span class="pre">max_size</span></code> samples are always pulled from the domain.
If all dimensions of a design pace are continuous, samples are created by randomly sampling from each dimension.
If there mixed continuous and enumerated dimensions in the design space, samples are created by combining the outer product of enumerated dimensions with random samples from continuous dimensions.
Finite elements repeat once the outer product is exhausted.</p>
<p>The following demonstrates how to create an enumerated processor that takes up to 100 samples from a design space, register it with a project and view validation results:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">from</span> <span class="nn">citrine</span> <span class="kn">import</span> <span class="n">Citrine</span>
<span class="kn">from</span> <span class="nn">citrine.informatics.processors</span> <span class="kn">import</span> <span class="n">EnumeratedProcessor</span>

<span class="c1"># create a session with citrine using API variables</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">Citrine</span><span class="p">(</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">API_SCHEME</span><span class="p">,</span> <span class="n">API_HOST</span><span class="p">,</span> <span class="n">API_PORT</span><span class="p">)</span>

<span class="n">project</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;Example project&#39;</span><span class="p">)</span>

<span class="c1"># create an enumerated processor and register it with the project</span>
<span class="n">processor</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">processors</span><span class="o">.</span><span class="n">register</span><span class="p">(</span>
    <span class="n">EnumeratedProcessor</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Enumerated processor&#39;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Samples up to 100 items from a design space&#39;</span><span class="p">,</span>
        <span class="n">max_size</span><span class="o">=</span><span class="mi">100</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># wait until the processor is no longer validating</span>
<span class="c1"># we must get the processor every time we wish to fetch the latest status</span>
<span class="k">while</span> <span class="n">project</span><span class="o">.</span><span class="n">processors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">processor</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="s2">&quot;VALIDATING&quot;</span><span class="p">:</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># print final validation status and status information</span>
<span class="n">validated_processor</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">processors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">processor</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">validated_processor</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">processor</span><span class="o">.</span><span class="n">status_info</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="grid-processor">
<h2>4.4.2. Grid processor<a class="headerlink" href="#grid-processor" title="Permalink to this headline">¶</a></h2>
<p>A grid processor generates samples from the outer product of finite dimensions.
This processor can only be used with a <a class="reference internal" href="../reference/citrine.informatics.design_spaces.html#citrine.informatics.design_spaces.ProductDesignSpace" title="citrine.informatics.design_spaces.ProductDesignSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProductDesignSpace</span></code></a>.
To create a finite set of materials from continuous dimensions, a uniform grid is created between the bounds of the descriptor.
The number of points is specified by <code class="docutils literal notranslate"><span class="pre">grid_sizes</span></code>.
<code class="docutils literal notranslate"><span class="pre">grid_sizes</span></code> is a map from descriptor key to the number of points to select between bounds of the dimension.
For example, if the dimension is bounded by 0 and 10 and the grid size is 11, points are taken from 0 to 10 in increments of 1.
Each continuous dimension in the design space must be given a grid size.
Enumerated dimensions cannot be given a grid size because it is not clear how to downsample or create a grid for a finite dimension.</p>
<p>The following demonstrates how to create a grid processor that searches
a 2D design space of enumerated x values and continuous y values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">citrine.informatics.descriptors</span> <span class="kn">import</span> <span class="n">RealDescriptor</span>
<span class="kn">from</span> <span class="nn">citrine.informatics.dimensions</span> <span class="kn">import</span> <span class="n">ContinuousDimension</span><span class="p">,</span> <span class="n">EnumeratedDimension</span>
<span class="kn">from</span> <span class="nn">citrine.informatics.processors</span> <span class="kn">import</span> <span class="n">GridProcessor</span>

<span class="c1"># create descriptors for x and y</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">RealDescriptor</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">RealDescriptor</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># enumerate x and create a continuous dimension for y</span>
<span class="c1"># note the upper bound on y is lower than that of the descriptor to restrict the search domain</span>
<span class="n">x_dim</span> <span class="o">=</span> <span class="n">EnumeratedDimension</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">])</span>
<span class="n">y_dim</span> <span class="o">=</span> <span class="n">ContinuousDimension</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># create a design space from x and y dimensions</span>
<span class="n">design_space</span> <span class="o">=</span> <span class="n">ProductDesignSpace</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;2D coordinate system&#39;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Design space that contains (x, y) points&#39;</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="p">[</span><span class="n">x_dim</span><span class="p">,</span> <span class="n">y_dim</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># define a processor that will create a grid of 11 points over the y dimension</span>
<span class="c1"># a grid size for x is not specified since it is already finite</span>
<span class="n">processor</span> <span class="o">=</span> <span class="n">GridProcessor</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Grid processor&#39;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Creates a grid over y&#39;</span><span class="p">,</span>
    <span class="n">grid_sizes</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=CitrineInformatics&repo=citrine-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">1. Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/connecting.html">1.1. Connecting to the Citrine Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/basic_structure.html">1.2. Structure of the Citrine Python Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/basic_functionality.html">1.3. Using the Citrine Python Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/data_model.html">1.4. Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/public_access.html">1.5. Dataset Access Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/working_with_files.html">1.6. Working With Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/projects_and_users.html">1.7. Projects and Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/code_examples.html">1.8. Code Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_entry.html">2. Data Entry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_entry.html#creating-data-model-objects">2.1. Creating Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_entry.html#identifiying-data-model-objects">2.2. Identifiying Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_entry.html#registering-data-model-objects">2.3. Registering Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_entry.html#finding-data-model-objects">2.4. Finding Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_entry.html#referencing-data-model-objects">2.5. Referencing Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_entry.html#validating-data-model-objects">2.6. Validating Data Model Objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_extraction.html">3. [ALPHA] Data Extraction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_extraction.html#defining-row-and-columns">3.1. Defining row and columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_extraction.html#defining-tables">3.2. Defining tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_extraction.html#previewing-tables">3.3. Previewing tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_extraction.html#building-and-downloading-tables">3.4. Building and downloading tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_extraction.html#available-row-definitions">3.5. Available Row Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_extraction.html#available-variable-definitions">3.6. Available Variable Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_extraction.html#available-column-definitions">3.7. Available Column Definitions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">4. [ALPHA] AI Engine</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">4.1. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictors.html">4.2. Predictors</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_spaces.html">4.3. Design spaces</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.4. Processors</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_workflows.html">4.5. Design workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="scores.html">4.6. Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_sources.html">4.7. Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictor_reports.html">4.8. Predictor reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance_workflows.html">4.9. Performance workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_examples.html">4.10. AI Engine Code Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ/index.html">5. FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../FAQ/prohibited_data_patterns.html">5.1. Prohibited Data Patterns</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">4. [ALPHA] AI Engine</a><ul>
      <li>Previous: <a href="design_spaces.html" title="previous chapter">4.3. Design spaces</a></li>
      <li>Next: <a href="design_workflows.html" title="next chapter">4.5. Design workflows</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Citrine Informatics.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/workflows/processors.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>