

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>4.6. Processors &mdash; Citrine Python 1.1.3 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4.7. Design Workflows" href="design_workflows.html" />
    <link rel="prev" title="4.5. Design Spaces" href="design_spaces.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">1. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_entry.html">2. GEMD Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_extraction.html">3. [ALPHA] Data Extraction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">4. AI Engine</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">4.1. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptors.html">4.2. Descriptors</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptors.html#platform-vocabularies">4.3. Platform Vocabularies</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictors.html">4.4. Predictors</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_spaces.html">4.5. Design Spaces</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.6. Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enumerated-processor">4.6.1. Enumerated processor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#grid-processor">4.6.2. Grid processor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monte-carlo-processor">4.6.3. Monte Carlo processor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design_workflows.html">4.7. Design Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="scores.html">4.8. Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_sources.html">4.9. Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictor_reports.html">4.10. Predictor Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictor_evaluation_workflows.html">4.11. Predictor Evaluation Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_examples.html">4.12. AI Engine Code Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../formulations_example.html">5. Formulations Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ/index.html">6. FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Citrine Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html"><span class="section-number">4. </span>AI Engine</a> &raquo;</li>
        
      <li><span class="section-number">4.6. </span>Processors</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/workflows/processors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="processors">
<h1><span class="section-number">4.6. </span>Processors<a class="headerlink" href="#processors" title="Permalink to this headline">¶</a></h1>
<p>A processor defines how a <a class="reference internal" href="design_spaces.html"><span class="doc">design space</span></a> is searched.
There are three processors:</p>
<ul class="simple">
<li><p><a class="reference external" href="#enumerated-processor">EnumeratedProcessor</a> enumerates up to a fixed number of materials from a finite, enumerable space.</p></li>
<li><p><a class="reference external" href="#grid-processor">GridProcessor</a> creates finite, enumerable space from a (semi-)continuous one by discretizing the continuous variables and enumerating the finite variables.</p></li>
<li><p><a class="reference external" href="#monte-carlo-processor">MonteCarloProcessor</a> uses Monte Carlo methods to explore a space, taking a semi-directed random walk to find high-performing points.</p></li>
</ul>
<section id="enumerated-processor">
<h2><span class="section-number">4.6.1. </span>Enumerated processor<a class="headerlink" href="#enumerated-processor" title="Permalink to this headline">¶</a></h2>
<p>An <a class="reference internal" href="../reference/citrine.informatics.processors.html#citrine.informatics.processors.EnumeratedProcessor" title="citrine.informatics.processors.EnumeratedProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumeratedProcessor</span></code></a> takes up to a maximum number of materials from a <a class="reference internal" href="design_spaces.html"><span class="doc">design space</span></a> and processes each independently.
The maximum number of candidates sampled from the Design Space is defined by the optional <code class="docutils literal notranslate"><span class="pre">max_candidates</span></code> parameter when creating an <a class="reference internal" href="../reference/citrine.informatics.processors.html#citrine.informatics.processors.EnumeratedProcessor" title="citrine.informatics.processors.EnumeratedProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumeratedProcessor</span></code></a> using the Citrine Python client.
To be valid, enumerated processors must have a maximum number of candidates of at least 1.</p>
<p>An enumerated processor can be used with finite and infinite Design Spaces.
A finite space can be defined using an <code class="xref py py-class docutils literal notranslate"><span class="pre">EnumeratedDesignSpace</span></code> or a <code class="xref py py-class docutils literal notranslate"><span class="pre">ProductDesignSpace</span></code> composed only of <a class="reference internal" href="../reference/citrine.informatics.dimensions.html#citrine.informatics.dimensions.EnumeratedDimension" title="citrine.informatics.dimensions.EnumeratedDimension"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumeratedDimensions</span></code></a>.
In these cases, the processor will systematically pull up to <code class="docutils literal notranslate"><span class="pre">max_candidates</span></code> samples from the space.</p>
<p>An infinite Design Space is created when a <code class="xref py py-class docutils literal notranslate"><span class="pre">ProductDesignSpace</span></code> contains one or more continuous dimensions.
When an enumerated processor is combined with an infinite Design Space, <code class="docutils literal notranslate"><span class="pre">max_candidates</span></code> samples are always pulled from the domain.
If all dimensions of a Design Space are continuous, samples are created by randomly sampling from each dimension.
If there are mixed continuous and enumerated dimensions in the Design Space, samples are created by combining the Cartesian product of enumerated dimensions with random samples from continuous dimensions.
Finite elements repeat once the Cartesian product is exhausted.</p>
<p>The following demonstrates how to create an enumerated processor that takes up to 100 samples from a Design Space, register it with a project, and view validation results:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">from</span> <span class="nn">citrine</span> <span class="kn">import</span> <span class="n">Citrine</span>
<span class="kn">from</span> <span class="nn">citrine.informatics.processors</span> <span class="kn">import</span> <span class="n">EnumeratedProcessor</span>

<span class="c1"># create a session with citrine using API variables</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">Citrine</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">)</span>

<span class="n">project</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;Example project&#39;</span><span class="p">)</span>

<span class="c1"># create an enumerated processor and register it with the project</span>
<span class="n">processor</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">processors</span><span class="o">.</span><span class="n">register</span><span class="p">(</span>
    <span class="n">EnumeratedProcessor</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Enumerated processor&#39;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Samples up to 100 items from a design space&#39;</span><span class="p">,</span>
        <span class="n">max_candidates</span><span class="o">=</span><span class="mi">100</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># wait until the processor is no longer validating</span>
<span class="c1"># we must get the processor every time we wish to fetch the latest status</span>
<span class="k">while</span> <span class="n">project</span><span class="o">.</span><span class="n">processors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">processor</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="s2">&quot;VALIDATING&quot;</span><span class="p">:</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># print final validation status and status information</span>
<span class="n">validated_processor</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">processors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">processor</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">validated_processor</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">processor</span><span class="o">.</span><span class="n">status_info</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="grid-processor">
<h2><span class="section-number">4.6.2. </span>Grid processor<a class="headerlink" href="#grid-processor" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="../reference/citrine.informatics.processors.html#citrine.informatics.processors.GridProcessor" title="citrine.informatics.processors.GridProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridProcessor</span></code></a> generates samples from the outer product of finite dimensions.
This processor can only be used with a <a class="reference internal" href="../reference/citrine.informatics.design_spaces.product_design_space.html#citrine.informatics.design_spaces.product_design_space.ProductDesignSpace" title="citrine.informatics.design_spaces.product_design_space.ProductDesignSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProductDesignSpace</span></code></a>.
To create a finite set of materials from continuous dimensions, a uniform grid is created between the bounds of the descriptor.
The number of points is specified by <code class="docutils literal notranslate"><span class="pre">grid_sizes</span></code>.
<code class="docutils literal notranslate"><span class="pre">grid_sizes</span></code> is a map from descriptor key to the number of points to select between bounds of the dimension.
For example, if the dimension is bounded by 0 and 10 and the grid size is 11, points are taken from 0 to 10 in increments of 1.
Each continuous dimension in the Design Space must be given a grid size.
Enumerated dimensions cannot be given a grid size because it is not clear how to downsample or create a grid for a finite dimension.</p>
<p>The following demonstrates how to create a grid processor that searches
a 2D Design Space of enumerated x values and continuous y values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">citrine.informatics.descriptors</span> <span class="kn">import</span> <span class="n">RealDescriptor</span>
<span class="kn">from</span> <span class="nn">citrine.informatics.dimensions</span> <span class="kn">import</span> <span class="n">ContinuousDimension</span><span class="p">,</span> <span class="n">EnumeratedDimension</span>
<span class="kn">from</span> <span class="nn">citrine.informatics.processors</span> <span class="kn">import</span> <span class="n">GridProcessor</span>

<span class="c1"># create descriptors for x and y</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">RealDescriptor</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">RealDescriptor</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># enumerate x and create a continuous dimension for y</span>
<span class="c1"># note the upper bound on y is lower than that of the descriptor to restrict the search domain</span>
<span class="n">x_dim</span> <span class="o">=</span> <span class="n">EnumeratedDimension</span><span class="p">(</span><span class="n">descriptor</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">])</span>
<span class="n">y_dim</span> <span class="o">=</span> <span class="n">ContinuousDimension</span><span class="p">(</span><span class="n">descriptor</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># create a design space from x and y dimensions</span>
<span class="n">design_space</span> <span class="o">=</span> <span class="n">ProductDesignSpace</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;2D coordinate system&#39;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Design space that contains (x, y) points&#39;</span><span class="p">,</span>
    <span class="n">dimensions</span><span class="o">=</span><span class="p">[</span><span class="n">x_dim</span><span class="p">,</span> <span class="n">y_dim</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># define a processor that will create a grid of 11 points over the y dimension</span>
<span class="c1"># a grid size for x is not specified since it is already finite</span>
<span class="n">processor</span> <span class="o">=</span> <span class="n">GridProcessor</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Grid processor&#39;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Creates a grid over y&#39;</span><span class="p">,</span>
    <span class="n">grid_sizes</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="monte-carlo-processor">
<h2><span class="section-number">4.6.3. </span>Monte Carlo processor<a class="headerlink" href="#monte-carlo-processor" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="../reference/citrine.informatics.processors.html#citrine.informatics.processors.MonteCarloProcessor" title="citrine.informatics.processors.MonteCarloProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monte</span> <span class="pre">Carlo</span> <span class="pre">processor</span></code></a> uses Monte Carlo methods to explore the Design Space.
A Monte Carlo method involves a random walk in which steps that improve the score are always accepted, and steps that make the score worse are accepted probabilistically.
This balances exploitation, the desire to find the best nearby candidate, with exploration, the desire to investigate different regions of the Design Space.
Monte Carlo methods are flexible and broadly applicable, and especially useful for non-convex problems.
The Monte Carlo processor can be applied to any Design Space, although it is most useful for high-dimensional spaces that cannot easily be enumerated.</p>
<p>There are no parameters to configure when creating a Monte Carlo processor.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="design_workflows.html" class="btn btn-neutral float-right" title="4.7. Design Workflows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="design_spaces.html" class="btn btn-neutral float-left" title="4.5. Design Spaces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, Citrine Informatics.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>