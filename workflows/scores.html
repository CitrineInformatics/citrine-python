<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4.7. Scores &mdash; Citrine Python 2.15.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4.8. Data Sources" href="data_sources.html" />
    <link rel="prev" title="4.6. Design Workflows" href="design_workflows.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.15.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">1. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_entry.html">2. GEMD Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_extraction.html">3. Data Extraction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">4. AI Engine</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">4.1. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptors.html">4.2. Descriptors</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptors.html#platform-vocabularies">4.3. Platform Vocabularies</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictors.html">4.4. Predictors</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_spaces.html">4.5. Design Spaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_workflows.html">4.6. Design Workflows</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.7. Scores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#expected-improvement">4.7.1. Expected improvement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#likelihood-of-improvement">4.7.2. Likelihood of improvement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#expected-value">4.7.3. Expected value</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_sources.html">4.8. Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictor_reports.html">4.9. Predictor Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictor_evaluation_workflows.html">4.10. Predictor Evaluation Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_examples.html">4.11. AI Engine Code Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../formulations_example.html">5. Formulations Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../molecular_generation.html">6. [ALPHA] Generative Design Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ/index.html">7. FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Citrine Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">4. </span>AI Engine</a> &raquo;</li>
      <li><span class="section-number">4.7. </span>Scores</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/workflows/scores.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scores">
<h1><span class="section-number">4.7. </span>Scores<a class="headerlink" href="#scores" title="Permalink to this headline"></a></h1>
<p>Scores rank materials according to a set of objectives and constraints.
An objective defines the goal for a scalar value associated with a particular descriptor.
The goal can be to either maximize or minimize a value by using <a class="reference internal" href="../reference/citrine.informatics.objectives.html#citrine.informatics.objectives.ScalarMaxObjective" title="citrine.informatics.objectives.ScalarMaxObjective"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarMaxObjective</span></code></a> or <a class="reference internal" href="../reference/citrine.informatics.objectives.html#citrine.informatics.objectives.ScalarMinObjective" title="citrine.informatics.objectives.ScalarMinObjective"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarMinObjective</span></code></a>, respectively.
Constraints represent a set of conditions on variables that should be satisfied.
Constraints can be used to restrict either a design space or descriptor values in design candidates.
There are five constraint types:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/citrine.informatics.constraints.scalar_range_constraint.html#citrine.informatics.constraints.scalar_range_constraint.ScalarRangeConstraint" title="citrine.informatics.constraints.scalar_range_constraint.ScalarRangeConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarRangeConstraint</span></code></a> restricts a scalar value between lower and upper bounds.</p></li>
<li><p><a class="reference internal" href="../reference/citrine.informatics.constraints.categorical_constraint.html#citrine.informatics.constraints.categorical_constraint.AcceptableCategoriesConstraint" title="citrine.informatics.constraints.categorical_constraint.AcceptableCategoriesConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">AcceptableCategoriesConstraint</span></code></a> restricts a descriptor value to a set of acceptable values.</p></li>
<li><p><a class="reference internal" href="../reference/citrine.informatics.constraints.ingredient_count_constraint.html#citrine.informatics.constraints.ingredient_count_constraint.IngredientCountConstraint" title="citrine.informatics.constraints.ingredient_count_constraint.IngredientCountConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">IngredientCountConstraint</span></code></a> constrains the total number of ingredients in a formulation, or the total number of ingredients within a labeled class of ingredients.</p></li>
<li><p><a class="reference internal" href="../reference/citrine.informatics.constraints.ingredient_fraction_constraint.html#citrine.informatics.constraints.ingredient_fraction_constraint.IngredientFractionConstraint" title="citrine.informatics.constraints.ingredient_fraction_constraint.IngredientFractionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">IngredientFractionConstraint</span></code></a> restricts the fractional amount of a formulation ingredient between minimum and maximum bounds.</p></li>
<li><p><a class="reference internal" href="../reference/citrine.informatics.constraints.label_fraction_constraint.html#citrine.informatics.constraints.label_fraction_constraint.LabelFractionConstraint" title="citrine.informatics.constraints.label_fraction_constraint.LabelFractionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">LabelFractionConstraint</span></code></a> restricts the total fraction of ingredients with a given label in a formulation between minimum and maximum bounds.</p></li>
</ul>
<p>A candidate is scored based on the objective value and likelihood of satisfying the constraints.
Higher scores represent “better” materials.</p>
<p>Currently, there are three scores:</p>
<ul class="simple">
<li><p><a class="reference external" href="#expected-improvement">Expected improvement</a></p></li>
<li><p><a class="reference external" href="#likelihood-of-improvement">Likelihood of improvement</a></p></li>
<li><p><a class="reference external" href="#expected-value">Expected value</a></p></li>
</ul>
<section id="expected-improvement">
<h2><span class="section-number">4.7.1. </span>Expected improvement<a class="headerlink" href="#expected-improvement" title="Permalink to this headline"></a></h2>
<p>Expected improvement (EI) is the magnitude of the expected value of improvement calculated as the integral from the best training objective (i.e., baseline) to infinity of <code class="docutils literal notranslate"><span class="pre">p(x)(x-a)</span></code>, where <code class="docutils literal notranslate"><span class="pre">a</span></code> is the best objective value in the training set.
<a class="reference internal" href="../reference/citrine.informatics.scores.html#citrine.informatics.scores.EIScore" title="citrine.informatics.scores.EIScore"><code class="xref py py-class docutils literal notranslate"><span class="pre">EIScore</span></code></a> supports 0 or 1 objective.
If no objective is provided, the score is the probability of satisfying all constraints.</p>
<p>EI is calculated from two components: predicted value and uncertainty.
Higher scores result from a more optimal predicted value, higher uncertainty or both.
Higher predicted values exploit information known about the current dataset, e.g., materials of a given type are known to perform well.
Higher uncertainty leads to exploration of a design space, e.g., little is known about a certain class materials, but materials from this region of the design space could perform well.</p>
</section>
<section id="likelihood-of-improvement">
<h2><span class="section-number">4.7.2. </span>Likelihood of improvement<a class="headerlink" href="#likelihood-of-improvement" title="Permalink to this headline"></a></h2>
<p>Likelihood of improvement (LI) is the probability that a candidate satisfies a set of constraints and is an improvement over known objective values.
<a class="reference internal" href="../reference/citrine.informatics.scores.html#citrine.informatics.scores.LIScore" title="citrine.informatics.scores.LIScore"><code class="xref py py-class docutils literal notranslate"><span class="pre">LIScore</span></code></a> supports 0 or more objectives.
If no objectives are provided, the LI score is the probability of satisfying the constraints.
When multiple objectives are present, the score is the probability of simultaneously improving <em>all</em> objectives.
LI scores are bounded between 0 and 1.</p>
<p>The following demonstrates how to create an LI score and use it when triggering a design workflow:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">citrine.informatics.objectives</span> <span class="kn">import</span> <span class="n">ScalarMaxObjective</span>
<span class="kn">from</span> <span class="nn">citrine.informatics.scores</span> <span class="kn">import</span> <span class="n">LIScore</span>

<span class="c1"># create an objective to maximize Shear modulus</span>
<span class="n">objective</span> <span class="o">=</span> <span class="n">ScalarMaxObjective</span><span class="p">(</span><span class="n">descriptor_key</span><span class="o">=</span><span class="s1">&#39;Shear modulus&#39;</span><span class="p">)</span>

<span class="c1"># Baseline is the highest shear modulus from the training data</span>
<span class="c1"># (assumed to be 150 here)</span>
<span class="n">baseline</span> <span class="o">=</span> <span class="mf">150.0</span>

<span class="c1"># Create an LI score from the objective and baseline</span>
<span class="n">score</span> <span class="o">=</span> <span class="n">LIScore</span><span class="p">(</span>
    <span class="n">objectives</span><span class="o">=</span><span class="p">[</span><span class="n">objective</span><span class="p">],</span>
    <span class="n">baselines</span><span class="o">=</span><span class="p">[</span><span class="mf">150.0</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># assuming you have a validated workflow, the score can be used in a design run via:</span>
<span class="n">execution</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">design_executions</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="expected-value">
<h2><span class="section-number">4.7.3. </span>Expected value<a class="headerlink" href="#expected-value" title="Permalink to this headline"></a></h2>
<p>Expected value (EV) is the expected value of the objective, penalized if the constraints are unlikely to be satisfied.
<a class="reference internal" href="../reference/citrine.informatics.scores.html#citrine.informatics.scores.EVScore" title="citrine.informatics.scores.EVScore"><code class="xref py py-class docutils literal notranslate"><span class="pre">EVScore</span></code></a> supports 0 or 1 objective.
If no objective is provided, the score is the probability of satisfying all constraints.</p>
<p>EV is a purely exploitative scoring strategy.
The candidate with the highest score will be the candidate that is expected to be the best at achieving the objectives
and satisfying the constraints, neglecting any additional value for gaining information about materials being modeled.
EV is unique among the currently available scores in that it ignores the predicted uncertainty in the objectives.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="design_workflows.html" class="btn btn-neutral float-left" title="4.6. Design Workflows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data_sources.html" class="btn btn-neutral float-right" title="4.8. Data Sources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Citrine Informatics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>