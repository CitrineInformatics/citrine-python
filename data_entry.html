
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>2. Data Entry &#8212; Citrine Python 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. [ALPHA] Data Extraction" href="data_extraction.html" />
    <link rel="prev" title="1.8. Code Examples" href="getting_started/code_examples.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="data-entry">
<h1>2. Data Entry<a class="headerlink" href="#data-entry" title="Permalink to this headline">¶</a></h1>
<div class="section" id="creating-data-model-objects">
<h2>2.1. Creating Data Model Objects<a class="headerlink" href="#creating-data-model-objects" title="Permalink to this headline">¶</a></h2>
<p>Each data object and template in the <a class="reference external" href="https://citrineinformatics.github.io/gemd-docs/">GEMD</a> data model has a corresponding resource in the Citrine Python Client.
For example, the <a class="reference internal" href="reference/citrine.resources.process_spec.html#citrine.resources.process_spec.ProcessSpec" title="citrine.resources.process_spec.ProcessSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">citrine.resources.process_spec.ProcessSpec</span></code></a> class implements the <a class="reference external" href="https://citrineinformatics.github.io/gemd-docs/specification/objects/#process-spec">ProcessSpec</a> object in <a class="reference external" href="https://citrineinformatics.github.io/gemd-docs/">GEMD</a>.
The Citrine Python Client implementations are consistent with the <a class="reference external" href="https://citrineinformatics.github.io/gemd-docs/">GEMD</a> model specification.</p>
<p>The Citrine Python Client is built on top of and entirely interoperable with the <a class="reference external" href="https://github.com/CitrineInformatics/gemd-python">gemd-python</a> package.
Any method that accepts the Citrine Python Client’s implementations of data model objects should also accept those from GEMD.</p>
</div>
<div class="section" id="identifiying-data-model-objects">
<h2>2.2. Identifiying Data Model Objects<a class="headerlink" href="#identifiying-data-model-objects" title="Permalink to this headline">¶</a></h2>
<p>After registering a data model object, you will probably want to be able to find that object again.
The easiest way to get an existing object is by one of its unique identifiers.
Every data model object on the Citrine Platform has a platform-issued identifier, often referred to as the “Citrine Identifier” or “CitrineId”.
These identifiers are <a class="reference external" href="https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_(random)">UUID4</a>, which are extremely robust but also not especially human readable.</p>
<p><a class="reference external" href="https://citrineinformatics.github.io/gemd-docs/specification/unique-identifiers/#alternative-ids">Alternative identifiers</a> are an easier way to recall data objects.
To create an alternative identifier, simply add key-value pairs to the <code class="docutils literal notranslate"><span class="pre">uids</span></code> dictionary in the data model object.
The key defines the <code class="docutils literal notranslate"><span class="pre">scope</span></code> and the value the <code class="docutils literal notranslate"><span class="pre">id</span></code>.
As a pair, they must be unique across the entire platform.
You can think of each value of <code class="docutils literal notranslate"><span class="pre">scope</span></code> as defining a namespace, with <code class="docutils literal notranslate"><span class="pre">id</span></code> being the name within that namespace.</p>
</div>
<div class="section" id="registering-data-model-objects">
<h2>2.3. Registering Data Model Objects<a class="headerlink" href="#registering-data-model-objects" title="Permalink to this headline">¶</a></h2>
<p>Data model objects are created on the Citrine Platform through the <code class="docutils literal notranslate"><span class="pre">register</span></code> method present in each data model object collection that comes from a dataset.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="o">.</span><span class="n">process_specs</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">ProcessSpec</span><span class="p">(</span><span class="o">...</span><span class="p">))</span>
</pre></div>
</div>
<p>Note that registration must be performed within the scope of a dataset: the dataset into which the objects are being written.
The data model object collections that are defined with the project scope (such as <cite>project.process_specs</cite>) are read-only and will throw an error if their register method is called.</p>
<p>If you have <a class="reference external" href="https://citrineinformatics.github.io/gemd-docs/">GEMD</a> objects, e.g. <a class="reference external" href="https://citrineinformatics.github.io/gemd-python/reference/gemd.entity.object.process_spec.html#gemd.entity.object.process_spec.ProcessSpec" title="(in GEMD-python)"><code class="xref py py-class docutils literal notranslate"><span class="pre">gemd.entity.object.process_spec.ProcessSpec</span></code></a>, you can register it just like the objects defined in the Citrine Python Client.</p>
</div>
<div class="section" id="finding-data-model-objects">
<h2>2.4. Finding Data Model Objects<a class="headerlink" href="#finding-data-model-objects" title="Permalink to this headline">¶</a></h2>
<p>If you know any a data model object’s unique identifiers, then you can get that object by its unique identifier.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">project</span><span class="o">.</span><span class="n">process_templates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;standard-templates&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;milling&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you don’t know any of the data model object’s unique identifiers, then you can list the data model objects and find your object in that list:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">project</span><span class="o">.</span><span class="n">process_templates</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</pre></div>
</div>
<p>The
<a class="reference internal" href="reference/citrine.resources.data_concepts.html#citrine.resources.data_concepts.DataConceptsCollection.filter_by_tags" title="citrine.resources.data_concepts.DataConceptsCollection.filter_by_tags"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_by_tags()</span></code></a>,
<code class="xref py py-func docutils literal notranslate"><span class="pre">filter_by_attribute_bounds()</span></code>,
and <a class="reference internal" href="reference/citrine.resources.data_concepts.html#citrine.resources.data_concepts.DataConceptsCollection.filter_by_name" title="citrine.resources.data_concepts.DataConceptsCollection.filter_by_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_by_name()</span></code></a>
can help refine the listing to make the target object easier to find.</p>
<p>For material runs and specs, there exist additional types of filtering:
<a class="reference internal" href="reference/citrine.resources.material_run.html#citrine.resources.material_run.MaterialRunCollection.filter_by_spec" title="citrine.resources.material_run.MaterialRunCollection.filter_by_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_by_spec()</span></code></a>,
<a class="reference internal" href="reference/citrine.resources.material_run.html#citrine.resources.material_run.MaterialRunCollection.filter_by_template" title="citrine.resources.material_run.MaterialRunCollection.filter_by_template"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_by_template()</span></code></a>,
and <a class="reference internal" href="reference/citrine.resources.material_spec.html#citrine.resources.material_spec.MaterialSpecCollection.filter_by_template" title="citrine.resources.material_spec.MaterialSpecCollection.filter_by_template"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_by_template()</span></code></a>.</p>
</div>
<div class="section" id="referencing-data-model-objects">
<h2>2.5. Referencing Data Model Objects<a class="headerlink" href="#referencing-data-model-objects" title="Permalink to this headline">¶</a></h2>
<p>Many data model objects contain links to other data model objects.
For example, a <a class="reference internal" href="reference/citrine.resources.material_spec.html#citrine.resources.material_spec.MaterialSpec" title="citrine.resources.material_spec.MaterialSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaterialSpec</span></code></a> references the <a class="reference internal" href="reference/citrine.resources.process_spec.html#citrine.resources.process_spec.ProcessSpec" title="citrine.resources.process_spec.ProcessSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessSpec</span></code></a> that produced it.
These links are created with the <a class="reference external" href="https://citrineinformatics.github.io/gemd-python/reference/gemd.entity.link_by_uid.html#gemd.entity.link_by_uid.LinkByUID" title="(in GEMD-python)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinkByUID</span></code></a> class, e.g.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">process</span> <span class="o">=</span> <span class="n">ProcessSpec</span><span class="p">(</span><span class="s2">&quot;my process&quot;</span><span class="p">,</span> <span class="n">uids</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;my namespace&quot;</span><span class="p">:</span> <span class="s2">&quot;my process&quot;</span><span class="p">})</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">process_specs</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
<span class="n">link</span> <span class="o">=</span> <span class="n">LinkByUID</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;my namespace&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;my_process&quot;</span><span class="p">)</span>
<span class="n">material</span> <span class="o">=</span> <span class="n">MaterialSpec</span><span class="p">(</span><span class="s2">&quot;my material&quot;</span><span class="p">,</span> <span class="n">process</span><span class="o">=</span><span class="n">link</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">material_specs</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">material</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="validating-data-model-objects">
<h2>2.6. Validating Data Model Objects<a class="headerlink" href="#validating-data-model-objects" title="Permalink to this headline">¶</a></h2>
<p>If you try to <code class="docutils literal notranslate"><span class="pre">register</span></code> or <code class="docutils literal notranslate"><span class="pre">delete</span></code> an invalid data model object, the operation fails with an error message that
specifies in what way(s) the data model object was invalid. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">ProcessSpec</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">ProcessRun</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="n">spec</span><span class="o">=</span><span class="n">spec</span><span class="p">)</span>

<span class="n">spec</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">process_specs</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">process_runs</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">run</span><span class="p">)</span>

<span class="n">dataset</span><span class="o">.</span><span class="n">process_specs</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">uids</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>yields</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ERROR:citrine._session:400 DELETE projects/$PROJECT_ID/datasets/$DATASET_ID/process-specs/id/$PROCESS_SPEC_ID
ERROR:citrine._session:{&quot;code&quot;:400,&quot;message&quot;:&quot;object $PROCESS_SPEC_ID in dataset $DATASET_ID not deleted. See ValidationErrors for details.&quot;,&quot;validation_errors&quot;:[{&quot;failure_message&quot;:&quot;Referenced by process_run in dataset $DATASET_ID with ID $PROCESS_RUN_ID&quot;,&quot;failure_id&quot;:&quot;object.mutation.referenced&quot;}]}
</pre></div>
</div>
<p>If you want to run these same validations on a data model object without the possibility of registering or deleting the
object, pass the <code class="docutils literal notranslate"><span class="pre">dry_run=True</span></code> argument to either the <code class="docutils literal notranslate"><span class="pre">register</span></code> or <code class="docutils literal notranslate"><span class="pre">delete</span></code> method. In the example above, this
would look like</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="o">.</span><span class="n">process_specs</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">uids</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="n">dry_run</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Setting <code class="docutils literal notranslate"><span class="pre">dry_run=True</span></code> in either <code class="docutils literal notranslate"><span class="pre">register</span></code> or <code class="docutils literal notranslate"><span class="pre">delete</span></code> causes the method to run through all of its validations
and if any fail, provide the same error that the method would provide without the <code class="docutils literal notranslate"><span class="pre">dry_run</span></code> argument. If all
validations succeed, the method returns the same success value that it would without the <code class="docutils literal notranslate"><span class="pre">dry_run</span></code> argument, but the
object will not be registered or deleted.</p>
<p>Setting <code class="docutils literal notranslate"><span class="pre">dry_run=False</span></code> is equivalent to not specifying <code class="docutils literal notranslate"><span class="pre">dry_run</span></code> at all and will have no effect.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=CitrineInformatics&repo=citrine-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started/index.html">1. Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started/connecting.html">1.1. Connecting to the Citrine Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/basic_structure.html">1.2. Structure of the Citrine Python Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/basic_functionality.html">1.3. Using the Citrine Python Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/data_model.html">1.4. Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/public_access.html">1.5. Dataset Access Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/working_with_files.html">1.6. Working With Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/projects_and_users.html">1.7. Projects and Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/code_examples.html">1.8. Code Examples</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Data Entry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-data-model-objects">2.1. Creating Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#identifiying-data-model-objects">2.2. Identifiying Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#registering-data-model-objects">2.3. Registering Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#finding-data-model-objects">2.4. Finding Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#referencing-data-model-objects">2.5. Referencing Data Model Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validating-data-model-objects">2.6. Validating Data Model Objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_extraction.html">3. [ALPHA] Data Extraction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_extraction.html#defining-row-and-columns">3.1. Defining row and columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_extraction.html#defining-tables">3.2. Defining tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_extraction.html#previewing-tables">3.3. Previewing tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_extraction.html#building-and-downloading-tables">3.4. Building and downloading tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_extraction.html#available-row-definitions">3.5. Available Row Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_extraction.html#available-variable-definitions">3.6. Available Variable Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_extraction.html#available-column-definitions">3.7. Available Column Definitions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflows/index.html">4. [ALPHA] AI Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workflows/getting_started.html">4.1. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/predictors.html">4.2. Predictors</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/design_spaces.html">4.3. Design spaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/processors.html">4.4. Processors</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/scores.html">4.5. Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/data_sources.html">4.6. Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/predictor_reports.html">4.7. Predictor reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/performance_workflows.html">4.8. Performance workflows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="FAQ/index.html">5. FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="FAQ/prohibited_data_patterns.html">5.1. Prohibited Data Patterns</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="getting_started/code_examples.html" title="previous chapter">1.8. Code Examples</a></li>
      <li>Next: <a href="data_extraction.html" title="next chapter">3. [ALPHA] Data Extraction</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Citrine Informatics.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/data_entry.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>